# LUX2EV_beeware 说明文档

一个基于 BeeWare 框架和 Toga 图形界面库实现的摄影曝光参数计算工具

## 1. 软件简介

LUX2EV_beeware 是一个用于摄影曝光参数计算的图形界面工具软件，开发所用的计算机编程语言为 Python 语言，使用的开发框架为 BeeWare，所用图形界面库为 Toga。

### 1.1 开发背景

摄影工作中，曝光参数是非常重要且复杂的概念。曝光参数决定了照片的明暗程度、细节展现和色彩准确性，直接影响着照片的质量和表现力。

曝光参数包括光圈、快门速度和ISO感光度。光圈控制着进入相机的光线量，决定了景深和图像的清晰度。快门速度控制着相机曝光的时间长度，影响到运动物体的清晰度和拍摄静态场景时的稳定性。ISO感光度决定了相机对光线的敏感程度，影响到图像的噪点和细节捕捉能力。

正确设置曝光参数是摄影师必须掌握的技能之一。过曝（过亮）或欠曝（过暗）都会导致图像质量下降，细节丢失或噪点增加。同时，不同的拍摄场景和主题需要不同的曝光参数来达到理想的效果。例如，拍摄夜景需要较长的快门速度和较高的ISO感光度，而拍摄运动物体需要较短的快门速度和较小的光圈。

由于曝光参数的复杂性，摄影师需要根据实际情况进行调整和平衡。一些摄影师倾向于使用手动模式来完全控制曝光参数，而另一些摄影师则更喜欢使用自动模式或半自动模式来快速获得合适的曝光。

摄影领域中，传统的测光手段是使用专用摄影测光表，但这类设备往往价格高昂且功能和使用寿命都有限制，尤其是难以面对一些需要复杂曝光、多次曝光、组合曝光的各种特殊场景。

针对这一问题，本软件旨在为摄影师提供一个简单易用的工具，在输入对应场景的照度之后，使用者可以自由选择ISO感光度、光圈大小、曝光时间等参数，通过计算得到最佳的曝光参数。

### 1.2 功能简介

本软件的主要功能是根据输入的光度值，选择ISO感光度，并计算出不同光圈下对应的快门速度。

在软件中，用户可以选择不同的ISO感光度，并通过滑动条调整光圈大小，以便在不同光圈下计算出来计算出最佳的曝光参数。摄影师可以更加专注于构图和创作，而不必过多关注曝光参数的调整。

软件的功能流程设计如下：
![](./images/流程图.svg)


### 1.3 开发环境

本软件使用的开发环境如下：

| 库       | 版本      | 说明                   |
|----------|----------|------------------------|
| Python   | 3.11.5   | 解释器，提供运行支持   |
| beeware  | 0.3.0    | 项目框架，提供运行框架 |
| briefcase| 0.3.16   | 项目管理器，提供打包支持 |
| toga     | 0.4.1    | 图形界面库，提供图形界面支持 |
| numpy    | 1.26.2   | 数值计算库，提供数值计算支持 |
| pandas   | 2.1.4    | 表格处理库，提供表格处理和CSV文件导出支持 |

## 2. 安装与运行

由于采用了具有跨平台支持的开发环境和基础库，本软件支持多种硬件设备和操作系统环境，也具有多种的安装和运行方式。

### 2.1 硬件环境

本软件运行的硬件设备环境如下：

| 硬件项目                      | 最低配置要求                        |
|----------------------------------|------------------------------------|
| 处理器                             | Intel X86_64、AMD64 64位处理器 或 ARM64 64位处理器，双核心，1GHz 以上频率 |
| 运行内存（RAM）                     | 4 GB 以上                           |
| 空余本地硬盘空间                    | 1 GB 以上                           |


### 2.2 系统环境

本软件运行的操作系统环境如下：

| 操作系统                           | 最低版本要求              | 架构       |
|----------------------------------|-------------------------|------------|
| Windows 10                        | 1809                    | 64位       |
| Ubuntu                           | 22.04.3                 | 64位       |
| Android                          | 13                      | 64位       |

### 2.3 安装与运行

#### 2.3.1 Python 解释器运行

这种运行方式支持Windows、GNU/Linux等多种操作系统，具体步骤包括：

* 先安装 Python 解释器（这一步请参考 Python 官方文档）；
* 然后用 pip 命令安装 beeware、briefcase 和 toga 库；
* 接下来使用 git clone 命令下载本软件的源码；
* 完成下载源码后，进入源码路径；
* 使用 briefcase run 命令运行本软件。

这种运行过程需要在终端（Windows下为Powershell，Linux和macOS下为BASH或ZSH）中执行如下命令：

```Bash
pip install beeware briefcase toga # 安装依赖包
git clone https://github.com/EasyCam/LUX2EV_beeware # 下载源代码
cd LUX2EV_beeware/lux2ev # 进入代码路径
briefcase run # 开始运行
```

界面如下图所示：
![](./images/RunOnUbuntu.png)

#### 2.3.2 Windows 下绿色运行

这种运行方式支持 Windows 10 1809 以及以上版本的 Windows 操作系统，具体步骤包括：

* 首先访问[本项目的release页面](https://github.com/EasyCam/LUX2EV_beeware/tree/main/release)；
* 根据语言选择压缩包，带cn字样为中文版本，带en字样为英文版本；
* 下载完成后，解压缩 zip 文件到某一目录；
* 完成解压缩后，到对应目录找到运行文件 LUX2EV.exe，双击运行。


界面如下图所示：
![](./images/RunOnWindowsZIP.png)


#### 2.3.3 Windows 下MSI安装运行

这种运行方式支持 Windows 10 1809 以及以上版本的 Windows 操作系统，具体步骤包括：

* 首先访问[本项目的release页面](https://github.com/EasyCam/LUX2EV_beeware/tree/main/release)；
* 根据语言选择wsi文件，带cn字样为中文版本，带en字样为英文版本；
* 下载完成后，双击 wsi 文件进行安装；
* 完成安装后，到开始菜单中找到 LUX2EV 的启动按钮，点击即可启动软件。

安装如下面几张图片所示：
![](./images/InstallMSI1.png)
![](./images/InstallMSI2.png)
![](./images/InstallMSI3.png)
![](./images/InstallMSI4.png)

界面如下图所示：
![](./images/RunOnWindowsMSI.png)


#### 2.3.4 Android 平台运行

这种运行方式支持 Android 13 以及以上版本的 Android 操作系统，具体步骤包括：

* 打开 Android 设备上的开发者选项，开启USB调试功能；
* 用 USB 线缆将 Android 设备与电脑连接，同意授权；
* 然后在电脑上安装 Python 解释器（这一步请参考 Python 官方文档）；
* 然后用 pip 命令安装 beeware、briefcase 和 toga 库；
* 接下来使用 git clone 命令下载本软件的源码；
* 完成下载源码后，进入源码路径；
* 使用 briefcase update Android 命令更新配置;
* 使用 briefcase build Android 命令生成 APK 文件;
* 使用 briefcase run Android 命令运行本软件。

这种运行过程需要在终端（Windows下为Powershell，Linux和macOS下为BASH或ZSH）中执行如下命令：

```Bash
pip install beeware briefcase toga # 安装依赖包
git clone https://github.com/EasyCam/LUX2EV_beeware # 下载源代码
cd LUX2EV_beeware/lux2ev # 进入代码路径
briefcase update Android # 更新配置
briefcase build Android # 生成 APK 文件
briefcase run Android # 开始运行
```

注意，上述过程中，beeware框架需要联网下载安装 Android 设备上运行 APP 所需要的第三方组件，因此可能花费较长时间，甚至可能因为网络稳定性等多方面因素而导致中断。

另外，Android 设备由于具有多样的分辨率设置，可能出现界面文字不全等情况，但并不影响软件的正常运行。如下所示：
![](./images/ScreenshotOnAndroid.jpg)

## 3. 功能与使用

考虑到用户占比，接下来的功能与使用相关的介绍以 Windows 10 1809 64位版本为例。
其他操作系统下 LUX2EV 的功能与使用也可以参考这部分内容，逻辑基本一致。

### 3.1 启动软件

首先，启动软件，Windows 10 用户可以使用 MSI 安装包安装后，在开始菜单中搜索到 LUX2EV 来启动。
其他操作系统用户可以参考上一章节的内容来启动。

![](./images/InstallMSI4.png)

### 3.2 菜单栏

软件启动后，首先可以看到主界面，以及主界面上的菜单栏。
需要注意的是，这里的菜单栏可能会随着用户所使用的操作系统不同而稍有形貌上的变化。
但具体功能内容基本一致。

主界面使用快捷键 Ctrl+Q 可以退出软件。
![](./images/退出.png)

菜单栏当中的 Help 项目下有访问主页和检查当前版本两项功能，如下图所示：
![](./images/帮助.png)

